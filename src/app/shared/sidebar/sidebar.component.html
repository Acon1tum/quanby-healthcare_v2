<div class="sidebar">
  <!-- Logo Section -->
  <div class="logo-section">
    <div class="logo-container">
      <img src="/qb-logo-2.png" alt="Quanby Health Logo" class="logo-image">
      <h1 class="logo-text">Quanby Health</h1>
    </div>
    <!-- <div class="role-badge">
      <span>{{ getRoleDisplayName(userRole) }}</span>
    </div> -->
  </div>

  <!-- Navigation Menu -->
  <nav class="sidebar-nav">
    <ul class="nav-list">
      <ng-container *ngFor="let item of navigationItems">
        <!-- Regular navigation item -->
        <li *ngIf="!item.children" class="nav-item">
          <a [routerLink]="item.route" routerLinkActive="active" class="nav-link">
            <i class="material-icons">{{ item.icon }}</i>
            <span>{{ item.label }}</span>
          </a>
        </li>
        
        <!-- Navigation item with children (like System Administration) -->
        <li *ngIf="item.children" class="nav-item">
          <div class="nav-group">
            <button class="nav-group-toggle" (click)="toggleSection(item)">
              <i class="material-icons">{{ item.icon }}</i>
              <span>{{ item.label }}</span>
              <i class="material-icons toggle-icon" [class.rotated]="item.expanded">
                {{ item.expanded ? 'expand_less' : 'expand_more' }}
              </i>
            </button>
            
            <ul class="nav-submenu" [class.open]="item.expanded">
              <li *ngFor="let child of item.children" class="nav-item">
                <a [routerLink]="child.route" routerLinkActive="active" class="nav-link">
                  <i class="material-icons">{{ child.icon }}</i>
                  <span>{{ child.label }}</span>
                </a>
              </li>
            </ul>
          </div>
        </li>
      </ng-container>
    </ul>
  </nav>

  <!-- Logout Section -->
  <div class="logout-section">
    <button class="logout-btn" (click)="logout()">
      <i class="material-icons">logout</i>
      <span>Logout</span>
    </button>
  </div>
</div>
